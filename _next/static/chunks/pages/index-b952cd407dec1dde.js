(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3678)}])},3678:function(e,n,t){"use strict";t.r(n),t.d(n,{SunHaloMaterial:function(){return A},default:function(){return U}});var r=t(5893),o=t(9251),a=t(5769),s=t(9888),i=t(7433),c=t(9008),u=t(7294),l=t(8269),f=t(8197),d=t(6073),h=t(3955),p=t(4827),m=t(809),v=t(9477),g=t(6090),y=t(1367);function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,n){return!n||"object"!==_(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function b(e,n){return(b=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],s=!0,i=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);s=!0);}catch(c){i=!0,o=c}finally{try{s||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=j(e);if(n){var o=j(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return w(this,t)}}(0,o.l7)({EffectComposer:l.x,RenderPass:f.C,ShaderPass:d.T,UnrealBloomPass:h.m});var R=u.forwardRef((function(e,n){var t=e.z,o=u.useRef(),s=P((0,a.m)(["displacement-7.png","metalness-2.png"]),2),i=s[0],c=s[1];return(0,r.jsxs)("mesh",{ref:n,position:[0,0,t],rotation:[.5*-Math.PI,0,0],children:[(0,r.jsx)("planeBufferGeometry",{arrach:"geometry",args:[1,2,24,24]}),(0,r.jsx)(g.Z,{ref:o,baseMaterial:v.MeshStandardMaterial,fragmentShader:"\nfloat aastep(in float threshold, in float value) {\n  float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n  return 1.0 - smoothstep(threshold-afwidth, threshold+afwidth, value);\n}\n\nvoid main() {\n  float lw = 1.0;\n  float w;\n\n  float gx = 1.0 + cos(vUv.x * 24.0 * 2.0 * PI - PI);\n  w = fwidth(vUv.x) * lw;\n  gx = aastep(w, gx);\n\n  float gy = 1.0 + cos(vUv.y * 24.0 * 2.0 * PI - PI);\n  w = fwidth(vUv.y) * lw;\n  gy = aastep(w, gy);\n\n  float grid = gx + gy;\n  \n  csm_DiffuseColor = vec4(grid, grid * 0.3, grid * 0.5, 1.0);\n}\n",displacementMap:i,displacementScale:.4,metalnessMap:c,metalness:.9,roughness:.5})]})}));R.displayName="Terrain";var M=function(){var e=u.useRef(),n=u.useRef();return(0,o.xQ)((function(t){e.current.position.z=.15*t.clock.elapsedTime%2,n.current.position.z=.15*t.clock.elapsedTime%2-2})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R,{ref:e,z:0}),(0,r.jsx)(R,{ref:n,z:-2})]})},O=function(){var e=u.useRef(),n=u.useRef(),t=(0,o.Ky)(),a=t.gl,s=t.scene,i=t.camera,c=t.size;return u.useEffect((function(){null===e||void 0===e||e.current.setSize(c.width,c.height)}),[c]),(0,o.xQ)((function(){n.current&&(n.current.uniforms.amount.value=.0012),e.current.render()}),1),(0,r.jsxs)("effectComposer",{ref:e,args:[a],children:[(0,r.jsx)("renderPass",{attachArray:"passes",scene:s,camera:i}),(0,r.jsx)("shaderPass",{ref:n,attachArray:"passes",args:[p.u]}),(0,r.jsx)("shaderPass",{attachArray:"passes",args:[m.Y]}),(0,r.jsx)("unrealBloomPass",{attachArray:"passes",args:[c.width/c.height,.2,.8,0]})]})},C=function(){var e,n,t=u.useRef(),o=u.useRef();return null===(e=t.current)||void 0===e||e.target.position.set([-.25,.25,.25]),null===(n=o.current)||void 0===n||n.target.position.set([.25,.25,.25]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("spotLight",{ref:t,color:"#d53c3d",intensity:40,position:[.5,.75,2.1],distance:25,angle:.1*Math.PI,penumbra:.25,decay:10}),(0,r.jsx)("spotLight",{ref:o,color:"#d53c3d",intensity:40,position:[-.5,.75,2.1],distance:25,angle:.1*Math.PI,penumbra:.25,decay:10})]})};var k={codGray:new v.Color(1184274),brightTurquoise:new v.Color(3798502),wewak:new v.Color(16767163),mandy:new v.Color(15223153)};function E(){var e=P(u.useState(),2),n=e[0],t=e[1],o=u.useRef();return u.useEffect((function(){var e;(e="https://raw.githubusercontent.com/willgriffiths/storage/master/vaporwave/onisun-1x1.svg",new Promise((function(n){return(new y.u).load(e,(function(e){return n(flatten(e.paths.map((function(e,n){return e.toShapes(!0)}))))}))}))).then((function(e){return t(e)})),o.current.scale.multiply(new v.Vector3(5,-5,1)),o.current.translateOnAxis(new v.Vector3(-1,1,0),2.5)}),[]),(0,r.jsx)("group",{ref:o,children:n&&n.map((function(e,n){return(0,r.jsx)("mesh",{material:sunMaterial,children:(0,r.jsx)("shapeBufferGeometry",{attach:"geometry",args:[e]})},n)}))})}var A=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&b(e,n)}(t,e);var n=S(t);function t(e){var r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),(r=n.call(this,{vertexShader:"\n        varying vec2 vUv;\n    \n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n        }\n      ",fragmentShader:"\n        uniform vec3 color;\n      \n        varying vec2 vUv;\n\n        void main() {\n          float d = 0.0;\n          d = length( abs(vUv)-.5 );\n          gl_FragColor = vec4(color, smoothstep(0.1,.5,d)* smoothstep(.5,.3,d))*0.75;\n        }\n      ",transparent:!0})).uniforms={color:{value:e.color}},r}return t}(v.ShaderMaterial),I=new A({color:k.mandy});function T(){return(0,r.jsxs)("group",{position:[0,4.5,0],scale:[1.15,1.15,1],children:[(0,r.jsx)("mesh",{material:I,position:[0,0,-.001],children:(0,r.jsx)("ringBufferGeometry",{attach:"geometry",args:[1,3.8,36]})}),(0,r.jsx)(E,{})]})}var z=function(){var e=P(u.useState(!1),2),n=e[0],t=e[1];return u.useEffect((function(){t(!0)}),[]),(0,r.jsx)(r.Fragment,{children:n?(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"hero-img",src:"/full-logo.png"}),(0,r.jsx)(o.Xz,{style:{position:"absolute",display:"block",top:0,left:0,zIndex:-1,outline:"none"},dpr:Math.min(window.devicePixelRatio,2),linear:!0,antialias:!0,children:(0,r.jsxs)(u.Suspense,{fallback:null,children:[(0,r.jsx)("color",{attach:"background",args:["#000000"]}),(0,r.jsx)("fog",{attach:"fog",args:["#000000",1,2.5]}),(0,r.jsx)(s.z,{attach:"orbitControls"}),(0,r.jsx)(i.c,{makeDefault:!0,position:[0,.06,1.1],fov:75,near:.01,far:20}),(0,r.jsx)(T,{}),(0,r.jsx)(C,{}),(0,r.jsx)(M,{}),(0,r.jsx)(O,{})]})})]}):null})};function U(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)("title",{children:"Linear - React-Three-Fiber"}),(0,r.jsx)("meta",{name:"description",content:"A reversed-engineer versioned of the WebGL animation from the Linear 2021 release page. Recreated by @MaximeHeckel"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("main",{children:(0,r.jsx)(z,{})})]})}}},function(e){e.O(0,[737,721,305,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);